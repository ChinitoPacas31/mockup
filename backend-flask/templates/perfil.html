<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mi Perfil</title>
  <link rel="stylesheet" href="/static/css/perfil.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="profile-header">
    <div class="container header-content">
      <div class="profile-header-content">
        <h1><i class="fas fa-user-circle"></i> Mi Perfil</h1>
        <p class="profile-welcome">Bienvenido a tu espacio personal</p>
      </div>
      <div class="profile-actions">
        <a href="{{ url_for('home') }}" class="btn btn-gradient">
          <i class="fas fa-arrow-left"></i> Volver al inicio
        </a>
        <a href="{{ url_for('logout') }}" class="btn btn-danger">
          <i class="fas fa-sign-out-alt"></i> Cerrar sesión
        </a>
      </div>
    </div>
  </header>

  <main class="profile-main">
    <div class="container profile-container">
      <!-- Sección superior con imagen y datos personales -->
      <div class="profile-top-section">
        <!-- Imagen de perfil -->
        <div class="profile-card profile-image-card">
          <div class="card-header">
            <h2><i class="fas fa-image"></i> Foto de Perfil</h2>
          </div>
          <div class="card-body" style="text-align: center;">
            {% if imagen_perfil %}
              <img src="{{ imagen_perfil }}" alt="Imagen de perfil" style="max-width:150px; border-radius:50%;" />
            {% else %}
              <img src="/static/images/default_profile.png" alt="Imagen por defecto" style="max-width:150px; border-radius:50%;" />
            {% endif %}
            <div style="margin-top: 10px;">
              <a href="{{ url_for('cambiar_imagen') }}" class="btn btn-gradient">
                <i class="fas fa-upload"></i> Cambiar imagen
              </a>
            </div>
          </div>
        </div>

        <!-- Información personal -->
        <div class="profile-card">
          <div class="card-header">
            <h2><i class="fas fa-id-card"></i> Información Personal</h2>
          </div>
          <div class="card-body">
            <div class="profile-info-item">
              <i class="fas fa-user-tag"></i>
              <div>
                <span class="info-label">Nombre:</span>
                <span class="info-value">{{ nombre }}</span>
              </div>
            </div>
            <div class="profile-info-item">
              <i class="fas fa-envelope"></i>
              <div>
                <span class="info-label">Email:</span>
                <span class="info-value">{{ email }}</span>
              </div>
            </div>
            <div style="margin-top: 15px;">
              <a href="{{ url_for('editar_perfil') }}" class="btn btn-gradient">
                <i class="fas fa-edit"></i> Editar Perfil
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Sección de actividad -->
      <div class="profile-card">
        <div class="card-header">
          <h2><i class="fas fa-chart-line"></i> Resumen de Actividad</h2>
        </div>
        <div class="card-body activity-grid">
          <div class="activity-item">
            <div class="activity-icon">
              <i class="fas fa-egg"></i>
            </div>
            <div class="activity-content">
              <h3>Incubadoras registradas</h3>
              <p>{{ total_incubadoras }}</p>
            </div>
          </div>
          
          <div class="activity-item">
            <div class="activity-icon">
              <i class="fas fa-history"></i>
            </div>
            <div class="activity-content">
              <h3>Última incubadora</h3>
              <p>{{ ultima_incubadora }}</p>
            </div>
          </div>
          
          <div class="activity-item">
            <div class="activity-icon">
              <i class="fas fa-calendar-alt"></i>
            </div>
            <div class="activity-content">
              <h3>Miembro desde</h3>
              <p>Junio 2025</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Acceso rápido -->
      <div class="profile-card quick-actions-card">
        <div class="card-header">
          <h2><i class="fas fa-bolt"></i> Acceso rápido</h2>
        </div>
        <div class="card-body quick-actions-grid">
          <a href="/incubadoras" class="btn btn-gradient action-btn">
            <i class="fas fa-egg"></i> Mis Incubadoras
          </a>
          <a href="/incubadoras#formulario" class="btn btn-gradient action-btn">
            <i class="fas fa-plus-circle"></i> Agregar Incubadora
          </a>
          <a href="mailto:nestium@gmail.com" class="btn btn-outline action-btn">
            <i class="fas fa-headset"></i> Soporte
          </a>
        </div>
      </div>
    </div>
  </main>
</body>
</html>